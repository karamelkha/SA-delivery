# Non-Functional Requirements

## 1. Общие положения

Данный документ описывает нефункциональные требования к информационной системе сервиса доставки еды «Delivery».

Нефункциональные требования определяют качественные характеристики системы и условия её работы: устойчивость, надёжность, безопасность, сопровождаемость и журналирование. Функциональное поведение системы, включая оформление и онлайн-оплату заказов, описано в документе Functional Requirements и в Use Case.

---

## 2. Работа при параллельных действиях

NFR-1. Система должна корректно работать при одновременной работе нескольких пользователей без потери или искажения данных.

NFR-2. Система должна поддерживать корректное состояние заказа при одновременных изменениях его статуса.

---

## 3. Надёжность и целостность данных

NFR-3. Данные о заказах должны сохраняться при сбоях и перезапуске системы.

NFR-4. Статус заказа должен изменяться только допустимым образом и не переходить в некорректное состояние.

NFR-5. Система должна исключать ситуации, при которых заказ может одновременно находиться в противоречивых статусах (в том числе связанных с оплатой).

---

## 4. Доступ и безопасность

NFR-6. Доступ к функциям системы должен предоставляться в зависимости от роли пользователя (Клиент, Курьер, Ресторан, Администратор).

NFR-7. Пользователи должны иметь доступ только к тем данным заказа и оплаты, которые необходимы для выполнения их роли.

NFR-8. Система должна предотвращать несанкционированное изменение данных о заказе и их оплате.

NFR-9. Система не должна хранить платёжные данные клиента (реквизиты банковской карты).

## 5. Взаимодействие с платёжным сервисом

NFR-10. Система должна корректно обрабатывать повторную передачу результата оплаты от платёжного сервиса без дублирования заказов и некорректного изменения их статусов.

NFR-11. Ошибки, возникающие при взаимодействии с платёжным сервисом, не должны приводить к потере данных заказа.

---

## 6. Поддержка и развитие системы

NFR-12. Система должна допускать расширение функциональности без нарушения работы существующих функций.

NFR-13. Изменения в логике обработки заказов должны быть возможны без затрагивания несвязанных частей системы.

---

## 7. Журналирование

NFR-14. Система должна фиксировать изменения статусов заказов и статусов оплаты.

NFR-15. Для каждого изменения статуса заказа должны сохраняться:

- идентификатор заказа;
- дата и время изменения;
- роль инициатора изменения;
- предыдущее и новое значение статуса.
