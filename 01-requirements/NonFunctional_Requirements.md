# Non-Functional Requirements

## 1. Общие положения

Данный документ описывает нефункциональные требования к информационной системе сервиса доставки еды «Delivery».

Нефункциональные требования определяют качественные характеристики системы и условия её работы: устойчивость, надёжность, безопасность, сопровождаемость, масштабируемость и журналирование.

Функциональное поведение системы описано в документе `Functional_Requirements.md` и в Use Case.

---

## 2. Работа при параллельных действиях

NFR-1. Система должна обеспечивать корректную работу при одновременной работе нескольких пользователей без потери или искажения данных.

NFR-2. Система должна обеспечивать согласованное состояние заказа при параллельных изменениях его статуса.

---

## 3. Надёжность и целостность данных

NFR-3. Данные о заказах должны сохраняться при сбоях и перезапуске системы.

NFR-4. Изменение статуса заказа должно выполняться только в соответствии с допустимыми переходами, определёнными в модели статусов.

NFR-5. Система должна исключать возможность нахождения заказа в противоречивых состояниях, включая статусы, связанные с оплатой и доставкой.

---

## 4. Доступ и безопасность

NFR-6. Доступ к функциям системы должен предоставляться в соответствии с ролью пользователя (Клиент, Курьер, Ресторан, Администратор).

NFR-7. Пользователи должны иметь доступ только к тем данным заказа и оплаты, которые необходимы для выполнения их функций.

NFR-8. Система должна предотвращать несанкционированное изменение данных о заказах и их оплате.

NFR-9. Система не должна хранить платёжные данные клиента (включая реквизиты банковских карт).

---

## 5. Взаимодействие с платёжным сервисом

NFR-10. Повторная передача результата оплаты от платёжного сервиса не должна приводить к дублированию заказов или некорректному изменению их статусов.

NFR-11. Ошибки при взаимодействии с платёжным сервисом не должны приводить к потере данных заказа.

---

## 6. Поддержка и развитие системы

NFR-12. Система должна допускать расширение функциональности без нарушения работоспособности существующих функций.

NFR-13. Изменения в логике обработки заказов должны быть возможны без необходимости изменения несвязанных компонентов системы.

---

## 7. Журналирование и аудит

NFR-14. Система должна обеспечивать журналирование изменений статусов заказов и статусов оплаты.

NFR-15. Записи журнала изменений должны обеспечивать возможность восстановления истории обработки заказа и включать:

- идентификатор заказа;
- дату и время изменения;
- роль инициатора изменения;
- предыдущее и новое значение статуса.
