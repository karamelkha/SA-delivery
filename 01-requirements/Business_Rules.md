# Business Rules — Delivery

Документ описывает бизнес-правила сервиса доставки еды «Delivery».

Бизнес-правила представляют собой формализованные логические ограничения, политики и условия, определяющие допустимое поведение системы и участников бизнес-процесса.  
Правила сформулированы на языке бизнеса и используются как основа для формирования функциональных и нефункциональных требований, а также пользовательских сценариев.

---

## 1. Правила формирования заказа

**BR-1. Корзина не является заказом.**  
Добавленные клиентом блюда до оформления заказа считаются корзиной и не образуют заказ.

**BR-2. Заказ создаётся только при оформлении.**  
Заказ считается созданным только после того, как клиент инициировал оформление заказа.

---

## 2. Правила оплаты заказа

**BR-3. Онлайн-оплата обязательна.**  
Оплата заказа осуществляется только в онлайн-формате.

**BR-4. Время ожидания оплаты ограничено.**  
Для оплаты заказа устанавливается ограниченное время ожидания.

**BR-5. Неоплаченный заказ не подлежит дальнейшей обработке.**  
Если оплата заказа не выполнена в установленный срок, заказ не подлежит дальнейшей обработке.

---

## 3. Правила обработки заказа рестораном

**BR-6. К обработке допускаются только оплаченные заказы.**  
Ресторан может обрабатывать только оплаченные заказы.

**BR-7. Ресторан принимает решение по заказу.**  
Ресторан обязан подтвердить или отклонить оплаченный заказ.

**BR-8. Подготовка заказа предшествует доставке.**  
Заказ может быть передан на доставку только после завершения его приготовления рестораном.

---

## 4. Правила доставки заказа

**BR-9. Назначение курьера возможно только после подготовки заказа.**  
Курьер может быть назначен только на заказ, готовый к доставке.

**BR-10. Доставка является частью жизненного цикла заказа.**  
Доставка рассматривается как этап выполнения заказа, а не как отдельный процесс.

**BR-11. Невозможность доставки фиксируется.**  
В случае невозможности доставки заказ считается не выполненным и подлежит дальнейшему решению.

---

## 5. Правила управления заказами

**BR-12. Администратор вправе отменить заказ.**  
Администратор может отменить заказ в случаях, предусмотренных бизнес-логикой.

**BR-13. История изменений обязательна.**  
Все значимые изменения состояния заказа должны быть зафиксированы.

**BR-14. Разграничение ролей обязательно.**  
Каждый участник процесса может выполнять только действия, соответствующие его роли.
